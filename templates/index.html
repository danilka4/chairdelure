<!-- Insert header.html -->
{% include "header.html" %}
    <main style="padding: 40px; text-align: center;">
        <form action="/model" method="POST" style="display: inline-block; text-align: left;">
          <label for="model" style="display: inline-block; margin-right: 8px; background-color:#250327; color: #ffffff;">Model:</label>
          <select id="model" name="model" style="background-color:#250327; border: 1px solid #fff; color: #ffffff;">
              <option value="molly">Molly</option>
              <option value="daniel">Daniel</option>
              <option value="chris">Chris</option>
          </select>
          <br><br>
          <textarea name="text" placeholder="Enter starting text" rows="3" cols="30" style="color: #ffffff; background-color: #250327; width: 100%; border: 1px solid #fff;"></textarea>
          <br><br>
          <input type="submit" value="Submit" style="background-color: #250327; border: 1px solid #fff; border-radius: 5px; color: #ffffff; cursor: pointer; padding: 8px 12px;">
          
        </form>
        <div id="result" style="color: #ffffff; border-radius: 5px; margin: 10px;  padding: 8px 12px;">
        </div>
    </main>
</body>
</html>
<script>
  var form = document.querySelector('form');
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    var data = new FormData(form);
    fetch('/model', {
      method: 'POST',
      body: data
    }).then(function(response) {
      // get the response body (the method explained below)
      // response is json object with body in output
      return response.json().then(data => data.output)

    }).then(function(text) {
      document.querySelector('#result').innerHTML = text;
    });
  });
</script>
